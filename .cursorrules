# Adsomnia "Talk-to-Data" Automation Agent

## Project Context
This is an LLM-powered automation agent that interfaces with the Everflow API, enabling natural language queries to retrieve, analyze, and create marketing/affiliate data.

## Execution Agents
Use `@agent-name` to invoke specialized agents:
- `@project-coordinator` - Timeline, sprints, milestones
- `@llm-agent-architect` - Intent classification, prompts, NLU
- `@everflow-integration-lead` - API payloads, data transformation
- `@backend-engineer` - FastAPI, workflow logic, Python architecture
- `@chat-interface-developer` - UI, auth, user interactions
- `@scheduler-alerts-specialist` - Cron jobs, WF4/WF5, notifications
- `@qa-uat-coordinator` - Testing, UAT, handover

See `.cursor/agents/README.md` for full agent documentation.

## Key Documentation (Always Reference)
- `README.md` - Project overview and quick start
- `ARCHITECTURE.md` - System design, tech stack, and data flow
- `docs/` - Workflow specifications and reference documentation
- `docs/workflows/` - Individual workflow implementation specs
- **Context7 Everflow API Docs** - ALWAYS use Context7 for current Everflow API documentation (library ID: `/websites/developers_everflow_io`)
- `docs/api/everflow_api_reference.md` - Fallback reference only (may be outdated)
- `docs/shared/agent_context.md` - Shared agent behavior and guidelines
- `.cursor/agents/` - Execution agent definitions

## Core Workflows (Priority Order)
1. **WF2** - Top-Performing Landing Pages (Read) - Week 1
2. **WF3** - Export Reports (Read) - Week 1
3. **WF6** - Weekly Performance Summaries (Monitor) - Week 2
4. **WF1** - Generate Tracking Links (Write) - Week 2
5. **WF4** - Default LP Alert (Scheduled) - Week 3
6. **WF5** - Paused Partner Check (Alert) - Week 3

## Technical Principles
- **No external data storage** - All processing is ephemeral
- **Safety checks required** for all write operations (WF1)
- **User confirmation** before any auto-approval actions
- **Direct API integration** - No data caching layer
- **Natural language to API translation** via LLM

## API Integration Rules
- Use dedicated Everflow API key (provided by client)
- Only call approved external APIs: Everflow, LLM Provider
- Handle rate limits gracefully
- Log all API calls for debugging (not data)

## Documentation Rules
- **CRITICAL: Always use Context7 for Everflow API documentation**
  - Before implementing or modifying Everflow API integrations, ALWAYS query Context7 for the latest Everflow API documentation
  - Use `mcp_context7_resolve-library-id` with library name "everflow" to get the library ID: `/websites/developers_everflow_io`
  - Use `mcp_context7_get-library-docs` with the library ID to fetch up-to-date API documentation
  - Do NOT rely solely on local files like `docs/api/everflow_api_reference.md` - they may be outdated
  - Context7 provides the most current and accurate Everflow API endpoint specifications, parameters, and examples
  - Only use local documentation files as a fallback or for project-specific notes

## Code Style
- Python for backend logic and data processing
- Type hints required for all functions
- Comprehensive error handling with user-friendly messages
- Modular design - each workflow is independent

## Security Requirements
- Password-protected interface
- Separate authentication layer
- No PII storage or logging
- API keys via environment variables only

## When Implementing Features
1. Always check the relevant workflow spec in `docs/workflows/`
2. **For Everflow API integrations**: ALWAYS query Context7 for latest API documentation (see Documentation Rules above)
3. Reference `docs/api/everflow_api_reference.md` only as a fallback or for project-specific notes
4. Follow patterns in `docs/shared/agent_context.md`
5. Ensure error messages are user-friendly (natural language)

